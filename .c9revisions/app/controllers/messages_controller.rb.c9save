{"ts":1367806648093,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"class MessagesController < ApplicationController\n  # GET /messages\n  # GET /messages.json\n  def index\n    @messages = Message.all\n\n    respond_to do |format|\n      format.html # index.html.erb\n      format.json { render json: @messages }\n    end\n  end\n\n  # GET /messages/1\n  # GET /messages/1.json\n  def show\n    @message = Message.find(params[:id])\n\n    respond_to do |format|\n      format.html # show.html.erb\n      format.json { render json: @message }\n    end\n  end\n\n  # GET /messages/new\n  # GET /messages/new.json\n  def new\n    @message = Message.new\n\n    respond_to do |format|\n      format.html # new.html.erb\n      format.json { render json: @message }\n    end\n  end\n\n  # GET /messages/1/edit\n  def edit\n    @message = Message.find(params[:id])\n  end\n\n  # POST /messages\n  # POST /messages.json\n  def create\n    @message = Message.new(params[:message])\n\n    respond_to do |format|\n      if @message.save\n        format.html { redirect_to @message, notice: 'Message was successfully created.' }\n        format.json { render json: @message, status: :created, location: @message }\n      else\n        format.html { render action: \"new\" }\n        format.json { render json: @message.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # PUT /messages/1\n  # PUT /messages/1.json\n  def update\n    @message = Message.find(params[:id])\n\n    respond_to do |format|\n      if @message.update_attributes(params[:message])\n        format.html { redirect_to @message, notice: 'Message was successfully updated.' }\n        format.json { head :no_content }\n      else\n        format.html { render action: \"edit\" }\n        format.json { render json: @message.errors, status: :unprocessable_entity }\n      end\n    end\n  end\n\n  # DELETE /messages/1\n  # DELETE /messages/1.json\n  def destroy\n    @message = Message.find(params[:id])\n    @message.destroy\n\n    respond_to do |format|\n      format.html { redirect_to messages_url }\n      format.json { head :no_content }\n    end\n  end\nend\n"]],"start1":0,"start2":0,"length1":0,"length2":1989}]],"length":1989}
{"contributors":[],"silentsave":false,"ts":1367806717280,"patch":[[{"diffs":[[0,"troller\n"],[1,"  before_filter :authenticate_user!\n"],[0,"  # GET "]],"start1":41,"start2":41,"length1":16,"length2":52}]],"length":2025,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367855355115,"patch":[[{"diffs":[[0,"f index\n"],[1,"    # Only get the messages for the user currently signed in\n"],[0,"    @mes"]],"start1":130,"start2":130,"length1":16,"length2":77}]],"length":2086,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367870203276,"patch":[[{"diffs":[[0,"ssage])\n"],[1,"    users.find(@message.to).add_message(@message)"],[0,"\n    res"]],"start1":951,"start2":951,"length1":16,"length2":65},{"diffs":[[0,"on: @message"],[1,", picture: request.env[\"omniauth.auth\"].picture"],[0," }\n      els"]],"start1":1218,"start2":1218,"length1":24,"length2":71}]],"length":2182,"saved":false}
{"ts":1367870263778,"patch":[[{"diffs":[[0,"    "],[-1,"users.find("],[1,"User.where(:name => "],[0,"@mes"]],"start1":959,"start2":959,"length1":19,"length2":28}]],"length":2191,"saved":false}
{"ts":1367870276897,"patch":[[{"diffs":[[0,"age.to)."],[1,"first.."],[0,"add_mess"]],"start1":988,"start2":988,"length1":16,"length2":23}]],"length":2198,"saved":false}
{"ts":1367870278191,"patch":[[{"diffs":[[0,").first."],[-1,"."],[0,"add_mess"]],"start1":994,"start2":994,"length1":17,"length2":16}]],"length":2197,"saved":false}
{"ts":1367870439352,"patch":[[{"diffs":[[0,"rst."],[-1,"add_m"],[1,"M"],[0,"essage"],[1,".add"],[0,"(@me"]],"start1":998,"start2":998,"length1":19,"length2":19}]],"length":2197,"saved":false}
{"ts":1367870496131,"patch":[[{"diffs":[[0,").first."],[-1,"M"],[1,"m"],[0,"essage"],[1,"s"],[0,".add(@me"]],"start1":994,"start2":994,"length1":23,"length2":24}]],"length":2198,"saved":false}
{"ts":1367870751493,"patch":[[{"diffs":[[0,"rst."],[1,"add_to_"],[0,"messages"],[-1,".add"],[0,"(@me"]],"start1":998,"start2":998,"length1":20,"length2":23}]],"length":2201,"saved":false}
{"ts":1367870953482,"patch":[[{"diffs":[[0,"    "],[-1,"User.where(:name"],[1,"@message.user"],[0," ="],[-1,">"],[0," @me"]],"start1":959,"start2":959,"length1":27,"length2":23},{"diffs":[[0,"e.to"],[-1,").first.add_to_messages(@message)"],[0,"\n   "]],"start1":986,"start2":986,"length1":41,"length2":8}]],"length":2164,"saved":false}
{"ts":1367871123436,"patch":[[{"diffs":[[0,"e.user ="],[1," Users.where(:name =>"],[0," @messag"]],"start1":970,"start2":970,"length1":16,"length2":37},{"diffs":[[0,"ssage.to"],[1,")"],[0,"\n    res"]],"start1":1003,"start2":1003,"length1":16,"length2":17}]],"length":2186,"saved":false}
{"ts":1367871218965,"patch":[[{"diffs":[[0,"r = User"],[-1,"s"],[0,".where(:"]],"start1":975,"start2":975,"length1":17,"length2":16}]],"length":2185,"saved":false}
{"ts":1367871257238,"patch":[[{"diffs":[[0,"sage.to)"],[1,".first"],[0,"\n    res"]],"start1":1003,"start2":1003,"length1":16,"length2":22}]],"length":2191,"saved":false}
{"contributors":[],"silentsave":false,"ts":1367875051770,"patch":[[{"diffs":[[0,"age."],[-1,"all"],[1,"where(:user.email == current_user.email)"],[0,"\n\n  "]],"start1":219,"start2":219,"length1":11,"length2":48}]],"length":2228,"saved":false}
{"ts":1367875064700,"patch":[[{"diffs":[[0,"gned in\n"],[1,"    \n"],[0,"    @mes"]],"start1":191,"start2":191,"length1":16,"length2":21},{"diffs":[[0,".where(:"],[-1,"user"],[1,"from"],[0,".email ="]],"start1":227,"start2":227,"length1":20,"length2":20}]],"length":2233,"saved":false}
{"ts":1367875299406,"patch":[[{"diffs":[[0," in\n"],[-1,"    \n"],[0,"    "]],"start1":195,"start2":195,"length1":13,"length2":8},{"diffs":[[0,"re(:"],[-1,"from"],[1,"user"],[0,".email ="],[-1,"="],[1,">"],[0," cur"]],"start1":226,"start2":226,"length1":21,"length2":21},{"diffs":[[0,").first\n"],[1,"    @message.from = @message.user.name\n"],[0,"    resp"]],"start1":1047,"start2":1047,"length1":16,"length2":55}]],"length":2267,"saved":false}
{"ts":1367875446389,"patch":[[{"diffs":[[0,"e.where("],[-1,":"],[0,"user.ema"]],"start1":221,"start2":221,"length1":17,"length2":16}]],"length":2266,"saved":false}
{"ts":1367875459534,"patch":[[{"diffs":[[0,"e.where("],[1,":"],[0,"user.ema"]],"start1":221,"start2":221,"length1":16,"length2":17}]],"length":2267,"saved":false}
{"ts":1367875625580,"patch":[[{"diffs":[[0,"re(:user"],[-1,".email"],[0," => curr"]],"start1":226,"start2":226,"length1":22,"length2":16},{"diffs":[[0,"user"],[-1,".email"],[0,")\n\n "]],"start1":246,"start2":246,"length1":14,"length2":8}]],"length":2255,"saved":false}
{"ts":1367875951399,"patch":[[{"diffs":[[0,"(:user ="],[-1,">"],[1,"="],[0," current"]],"start1":228,"start2":228,"length1":17,"length2":17}]],"length":2255,"saved":false}
{"ts":1367876194258,"patch":[[{"diffs":[[0,"(:user ="],[-1,"="],[1,"> User.where(:email =>"],[0," current"]],"start1":228,"start2":228,"length1":17,"length2":38},{"diffs":[[0,"ent_user"],[1,".email)"],[0,")\n\n    r"]],"start1":263,"start2":263,"length1":16,"length2":23}]],"length":2283,"saved":false}
{"ts":1367876395521,"patch":[[{"diffs":[[0,"s = "],[-1,"Message.where(:user => User.where(:email => c"],[1,"C"],[0,"urre"]],"start1":211,"start2":211,"length1":53,"length2":9},{"diffs":[[0,"ser."],[-1,"email))"],[1,"messages"],[0,"\n\n  "]],"start1":224,"start2":224,"length1":15,"length2":16}]],"length":2240,"saved":false}
{"ts":1367876406120,"patch":[[{"diffs":[[0,"sages = "],[-1,"C"],[1,"c"],[0,"urrent_u"]],"start1":207,"start2":207,"length1":17,"length2":17}]],"length":2240,"saved":false}
{"ts":1367881476907,"patch":[[{"diffs":[[0,"er.name\n"],[1,"    @message.associated_images = request.env[\"omniauth.auth\"].picture\n"],[0,"    resp"]],"start1":1059,"start2":1059,"length1":16,"length2":86},{"diffs":[[0,"sage"],[-1,", picture: request.env[\"omniauth.auth\"].picture "],[0,"}\n  "]],"start1":1354,"start2":1354,"length1":56,"length2":8}]],"length":2262,"saved":false}
{"ts":1367882147537,"patch":[[{"diffs":[[0,"ame\n"],[-1,"    @message.associated_images = request.env[\"omniauth.auth\"].picture\n"],[0,"    "]],"start1":1063,"start2":1063,"length1":78,"length2":8}]],"length":2192,"saved":false}
{"ts":1367882177962,"patch":[[{"diffs":[[0,"er.name\n"],[1,"    @message.associated_images = @message.user.image_url\n"],[0,"    resp"]],"start1":1059,"start2":1059,"length1":16,"length2":73}]],"length":2249,"saved":false}
{"ts":1367882239984,"patch":[[{"diffs":[[0,"er.name\n"],[1,"    unless @message.user.image_url.nil?\n    "],[0,"    @mes"]],"start1":1059,"start2":1059,"length1":16,"length2":60},{"diffs":[[0,"age_url\n"],[1,"    end\n"],[0,"    resp"]],"start1":1160,"start2":1160,"length1":16,"length2":24}]],"length":2301,"saved":false}
<<<<<<< HEAD
{"ts":1367882904262,"patch":[[{"diffs":[[0,"ind(params[:id])"],[1,"\n    if @message.user.group"],[0,"\n\n    respond_to"]],"start1":440,"start2":440,"length1":32,"length2":59}]],"length":2328,"saved":false}
{"ts":1367883048090,"patch":[[{"diffs":[[0,"r.group\n"],[1,"      "],[0,"\n    res"]],"start1":476,"start2":476,"length1":16,"length2":22}]],"length":2334,"saved":false}
{"ts":1367883402512,"patch":[[{"diffs":[[0,"id])\n    if "],[1,"not("],[0,"@message.use"]],"start1":452,"start2":452,"length1":24,"length2":28},{"diffs":[[0,"er.group"],[-1,"\n      "],[1,".messages_released)\n      @message = nil"],[0,"\n    res"]],"start1":479,"start2":479,"length1":23,"length2":56}]],"length":2371,"saved":false}
{"ts":1367884019734,"patch":[[{"diffs":[[0,"d\n  end\nend\n"],[1,"end"]],"start1":2359,"start2":2359,"length1":12,"length2":15}]],"length":2374,"saved":false}
=======
>>>>>>> b9462eb14e639aa5a4a8f8642410d81bb3bd62e3
{"ts":1367884323987,"patch":[[{"diffs":[[0,"e = nil\n"],[1,"  end\n"],[0,"    resp"]],"start1":520,"start2":520,"length1":16,"length2":22},{"diffs":[[0," end\nend"],[-1,"\nend"]],"start1":2368,"start2":2368,"length1":12,"length2":8}]],"length":2376,"saved":false}
{"ts":1367884399461,"patch":[[{"diffs":[[0,"e = nil\n"],[1,"    end\n    if not((@message.user == current_user) || (@message.from == current_user.name))\n      @message = nil\n  "],[0,"  end\n  "]],"start1":520,"start2":520,"length1":16,"length2":131}]],"length":2491,"saved":false}
{"ts":1367884633565,"patch":[[{"diffs":[[0,"age.save"],[1," && (@message.user.group == User.where(:name => @message.from).first.group)"],[0,"\n       "]],"start1":1408,"start2":1408,"length1":16,"length2":91},{"diffs":[[0,"n: \"new\""],[1,", notice: 'Users not of the same group'"],[0," }\n     "]],"start1":1710,"start2":1710,"length1":16,"length2":55}]],"length":2605,"saved":false}
