{"ts":1367858358827,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1367858366208,"patch":[[{"diffs":[[1,"class Users::OmniauthCallbacksController < Devise::OmniauthCallbacksController\r\nend"]],"start1":0,"start2":0,"length1":0,"length2":83}]],"length":83,"saved":false}
{"ts":1367858445395,"patch":[[{"diffs":[[0,"roller\r\n"],[1,"  def facebook\r\n    # You need to implement the method below in your model (e.g. app/models/user.rb)\r\n    @user = User.find_for_facebook_oauth(request.env[\"omniauth.auth\"], current_user)\r\n\r\n    if @user.persisted?\r\n      sign_in_and_redirect @user, :event => :authentication #this will throw if @user is not activated\r\n      set_flash_message(:notice, :success, :kind => \"Facebook\") if is_navigational_format?\r\n    else\r\n      session[\"devise.facebook_data\"] = request.env[\"omniauth.auth\"]\r\n      redirect_to new_user_registration_url\r\n    end\r\n  end\r\n"],[0,"end"]],"start1":72,"start2":72,"length1":11,"length2":563}]],"length":635,"saved":false}
